<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMI Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        function calculateEMI() {
            const loanAmount = parseFloat(document.getElementById("loanAmount").value);
            const annualInterestRate = parseFloat(document.getElementById("interestRate").value) / 100;
            const termLengthYears = parseInt(document.getElementById("termLength").value);
            const compoundPeriod = document.getElementById("compoundPeriod").value;
            const paymentFrequency = document.getElementById("paymentFrequency").value;

            let n;  // number of payments
            let r;  // interest rate per payment period

            // Determine r based on compound period
            if (compoundPeriod === "Monthly") {
                r = annualInterestRate / 12;
            } else if (compoundPeriod === "Semiannually") {
                r = annualInterestRate / 2;  // Semiannually means 2 compounding periods per year
            }

            // Determine n and adjust r based on payment frequency
            if (paymentFrequency === "Monthly") {
                n = termLengthYears * 12;
            } else if (paymentFrequency === "Semi-Monthly") {
                n = termLengthYears * 24;
                r /= 2;  // Payment is twice a month, so divide interest rate by 2
            } else if (paymentFrequency === "Bi-Weekly") {
                n = termLengthYears * 26;
                r /= 2.1667;  // Payment is bi-weekly, so divide interest rate accordingly
            } else if (paymentFrequency === "Weekly") {
                n = termLengthYears * 52;
                r /= 4.333;  // Payment is weekly, so divide interest rate accordingly
            }

            const emi = (loanAmount * r * Math.pow(1 + r, n)) / (Math.pow(1 + r, n) - 1);

            document.getElementById("emiResult").innerText = `Payment: £${emi.toFixed(2)}`;
        }
    </script>
</head>
<body class="bg-gray-100 py-10">
    <div class="max-w-md mx-auto bg-white p-8 rounded-lg shadow-lg">
        <h1 class="text-2xl font-bold text-gray-700 mb-6">EMI Calculator</h1>
        
        <div class="mb-4">
            <label for="loanAmount" class="block text-sm font-medium text-gray-700">Loan Amount (£)</label>
            <input id="loanAmount" type="number" value="10000" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        </div>

        <div class="mb-4">
            <label for="interestRate" class="block text-sm font-medium text-gray-700">Annual Interest Rate (%)</label>
            <input id="interestRate" type="number" step="0.01" value="12.75" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        </div>

        <div class="mb-4">
            <label for="termLength" class="block text-sm font-medium text-gray-700">Term Length (in Years)</label>
            <input id="termLength" type="number" value="8" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
        </div>

        <div class="mb-4">
            <label for="compoundPeriod" class="block text-sm font-medium text-gray-700">Compound Period</label>
            <select id="compoundPeriod" class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                <option value="Monthly">Monthly</option>
                <option value="Semiannually">Semiannually</option>
            </select>
        </div>

        <div class="mb-4">
            <label for="paymentFrequency" class="block text-sm font-medium text-gray-700">Payment Frequency</label>
            <select id="paymentFrequency" class="mt-1 block w-full px-3 py-2 border border-gray-300 bg-white rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm">
                <option value="Monthly">Monthly</option>
                <option value="Semi-Monthly">Semi-Monthly</option>
                <option value="Bi-Weekly">Bi-Weekly</option>
                <option value="Weekly">Weekly</option>
            </select>
        </div>

        <button onclick="calculateEMI()" class="w-full bg-indigo-500 text-white font-bold py-2 px-4 rounded-md hover:bg-indigo-600 transition">Calculate EMI</button>

        <div id="emiResult" class="mt-6 text-lg font-bold text-indigo-700"></div>
    </div>
</body>
</html>
